specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: WaveFrontFactory
    network: mumbai
    source:
      address: "0x9Fa5b54Df8c48b1f448D63007122baC30cAC26f7"
      abi: WaveFrontFactory
      startBlock: 47559810
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Directory
      abis:
        - name: WaveFrontFactory
          file: ./abis/WaveFrontFactory.json
        - name: Token
          file: ./abis/Token.json
        - name: PreToken
          file: ./abis/PreToken.json
        - name: WaveFrontMulticall
          file: ./abis/WaveFrontMulticall.json
      eventHandlers:
        - event: WaveFrontFactory__TokenCreated(uint256,address)
          handler: handleWaveFrontFactory__TokenCreated
        - event: WaveFrontFactory__TreasuryUpdated(address)
          handler: handleWaveFrontFactory__TreasuryUpdated
        - event: WaveFrontFactory__MinAmountInUpdated(uint256)
          handler: handleWaveFrontFactory__MinAmountInUpdated
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
      file: ./src/wavefront-factory.ts
  - kind: ethereum
    name: WaveFrontRouter
    network: mumbai
    source:
      address: "0xe242e31046c90a4C47cFF218f3C839F66130e401"
      abi: WaveFrontRouter
      startBlock: 47558280
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Account
      abis:
        - name: WaveFrontRouter
          file: ./abis/WaveFrontRouter.json
      eventHandlers:
        - event: WaveFrontRouter__AffiliateSet(indexed address,indexed address)
          handler: handleWaveFrontRouter__AffiliateSet
      file: ./src/wavefront-router.ts
templates:
  - kind: ethereum/contract
    name: Token
    network: mumbai
    source:
      abi: Token
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/token.ts
      entities:
        - Directory
        - Token
        - TokenPosition
        - TokenHourData
        - TokenDayData
        - Transaction
        - Buy
        - Sell
        - Contribute
        - Account
      abis:
        - name: Token
          file: ./abis/Token.json
        - name: WaveFrontMulticall
          file: ./abis/WaveFrontMulticall.json
      eventHandlers:
        - event: Token__Buy(indexed address,indexed address,uint256,uint256)
          handler: handleToken__Buy
        - event: Token__Sell(indexed address,indexed address,uint256,uint256)
          handler: handleToken__Sell
        - event: Token__Claim(indexed address,uint256)
          handler: handleToken__Claim
        - event: Token__StatusFee(indexed address,uint256)
          handler: handleToken__StatusFee
        - event: Token__ProviderFee(indexed address,uint256)
          handler: handleToken__ProviderFee
        - event: Token__ProtocolFee(indexed address,uint256)
          handler: handleToken__ProtocolFee
        - event: Token__Burn(indexed address,uint256)
          handler: handleToken__Burn
        - event: Token__ReserveBurn(uint256)
          handler: handleToken__ReserveBurn
        - event: Token__StatusUpdated(indexed address,string)
          handler: handleToken__StatusUpated
        - event: Token__Borrow(indexed address,uint256)
          handler: handleToken__Borrow
        - event: Token__Repay(indexed address,uint256)
          handler: handleToken__Repay
        - event: Token__Donation(indexed address,uint256)
          handler: handleToken__Donation
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: PreToken
    network: mumbai
    source:
      abi: PreToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./src/pre-token.ts
      entities:
        - Directory
        - Token
        - TokenPosition
        - TokenHourData
        - TokenDayData
        - Transaction
        - Buy
        - Sell
        - Contribute
        - Account
      abis:
        - name: PreToken
          file: ./abis/PreToken.json
        - name: WaveFrontMulticall
          file: ./abis/WaveFrontMulticall.json
      eventHandlers:
        - event: PreToken__Contributed(indexed address,uint256)
          handler: handlePreToken__Contributed
        - event: PreToken__MarketOpened(indexed address,uint256,uint256)
          handler: handlePreToken__MarketOpened
        - event: PreToken__Redeemed(indexed address,uint256)
          handler: handlePreToken__Redeemed
